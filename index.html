<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حساب مقاس العباية</title>
    <style>
        /* نفس التنسيقات السابقة */
        /* ... */
    </style>
</head>
<body>
    

    <script>
        // ترجمة النصوص
// إنشاء واجهة المستخدم وتنفيذ حاسبة مقاس العباية باستخدام JavaScript فقط
document.addEventListener('DOMContentLoaded', function() {
  // ترجمة النصوص للغتين العربية والإنجليزية
  const isEnglish = document.documentElement.lang === 'en';
  
  const trans = {
    en: {
      title: 'Calculate Your Abaya Size',
      subtitle: 'Find the perfect abaya size in inches from Ethar Abayas',
      heightLabel: 'Enter your height (cm):',
      weightLabel: 'Enter your weight (kg):',
      result: 'Your Abaya Size',
      error: 'Please enter valid data',
      sorryDesc: 'Height should be between 147-170 cm<br>and weight should be between 30-150 kg',
      abayaLength: 'Abaya Length in Inches:',
      abayaWidth: 'Abaya Width in Inches:',
      apology: 'We apologize for the inconvenience!',
      calculate: 'Calculate',
      info: 'This calculator measures accurately regardless of personal preferences. However, for more precise measurements, please take measurements as shown in the measurement image'
    },
    ar: {
      title: 'احسبي مقاس عبايتك',
      subtitle: 'قياس العباية المناسب بالانش من  للعبايات',
      heightLabel: 'ادخلي طولك (سم):',
      weightLabel: 'ادخلي وزنك (كجم):',
      result: 'مقاس العباية المناسب لك',
      error: 'عذراً ادخل معلومات صحيحة!',
      sorryDesc: 'يجب ان يكون الطول ما بين 147-170 سم<br>و الوزن ما بين 30-150 كجم',
      abayaLength: 'طول العباية بالانش:',
      abayaWidth: 'عرض العباية بالانش:',
      apology: 'نعتذر منك!',
      calculate: 'حساب',
      info: 'هذه الحاسبة تقيس بشكل دقيق بغض النظر عن التفضيلات الشخصية، ولكن لقياسات أدق يُرجى أخذ القياسات كما هو موضح في صورة القياسات.'
    }
  };
  
  // تحديد اللغة الحالية
  const lang = isEnglish ? trans.en : trans.ar;
  
  // إنشاء نموذج إدخال المستخدم
  const createForm = () => {
    // إنشاء العناصر الرئيسية
    const container = document.createElement('div');
    container.className = 'container';
    container.style.cssText = 'background-color: #fff; border-radius: 15px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); max-width: 400px; margin: auto; padding: 30px; font-family: Arial, sans-serif;';
    
    const titleBlock = document.createElement('div');
    titleBlock.style.cssText = 'display: flex; flex-direction: column; margin-bottom: 20px; text-align: center;';
    
    const heading = document.createElement('h2');
    heading.innerText = lang.title;
    heading.style.cssText = 'font-size: 24px; margin-bottom: 10px; color: #4a4a4a;';
    
    const subtitle = document.createElement('p');
    subtitle.innerText = lang.subtitle;
    subtitle.style.cssText = 'margin-bottom: 20px; color: #777; font-size: 16px;';
    
    // إنشاء النموذج
    const form = document.createElement('form');
    form.id = 'abayaForm';
    form.style.cssText = 'margin-bottom: 20px;';
    
    // حقل الطول
    const heightDiv = document.createElement('div');
    heightDiv.style.cssText = 'margin-bottom: 15px;';
    
    const heightLabel = document.createElement('label');
    heightLabel.htmlFor = 'height';
    heightLabel.innerText = lang.heightLabel;
    heightLabel.style.cssText = 'display: block; text-align: right; margin-bottom: 5px; font-weight: bold;';
    
    const heightInput = document.createElement('input');
    heightInput.type = 'number';
    heightInput.id = 'height';
    heightInput.name = 'height';
    heightInput.min = '100';
    heightInput.max = '200';
    heightInput.required = true;
    heightInput.style.cssText = 'width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; font-size: 16px; box-sizing: border-box;';
    
    // حقل الوزن
    const weightDiv = document.createElement('div');
    weightDiv.style.cssText = 'margin-bottom: 15px;';
    
    const weightLabel = document.createElement('label');
    weightLabel.htmlFor = 'weight';
    weightLabel.innerText = lang.weightLabel;
    weightLabel.style.cssText = 'display: block; text-align: right; margin-bottom: 5px; font-weight: bold;';
    
    const weightInput = document.createElement('input');
    weightInput.type = 'number';
    weightInput.id = 'weight';
    weightInput.name = 'weight';
    weightInput.min = '30';
    weightInput.max = '200';
    weightInput.required = true;
    weightInput.style.cssText = 'width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; font-size: 16px; box-sizing: border-box;';
    
    // زر الحساب
    const submitButton = document.createElement('button');
    submitButton.type = 'submit';
    submitButton.innerText = lang.calculate;
    submitButton.style.cssText = 'background-color: #4CAF50; color: white; border: none; padding: 14px 20px; border-radius: 8px; cursor: pointer; width: 100%; font-size: 18px; font-weight: 600;';
    
    // مساحة النتائج
    const resultDiv = document.createElement('div');
    resultDiv.id = 'result';
    resultDiv.style.cssText = 'margin-top: 20px; font-size: 18px; text-align: center;';
    
    // نص المعلومات
    const infoText = document.createElement('p');
    infoText.innerText = lang.info;
    infoText.style.cssText = 'margin-top: 20px; font-size: 14px; color: #777; line-height: 1.6; text-align: center;';
    
    // تجميع العناصر
    heightDiv.appendChild(heightLabel);
    heightDiv.appendChild(heightInput);
    
    weightDiv.appendChild(weightLabel);
    weightDiv.appendChild(weightInput);
    
    form.appendChild(heightDiv);
    form.appendChild(weightDiv);
    form.appendChild(submitButton);
    
    titleBlock.appendChild(heading);
    titleBlock.appendChild(subtitle);
    
    container.appendChild(titleBlock);
    container.appendChild(form);
    container.appendChild(resultDiv);
    container.appendChild(infoText);
    
    return container;
  };
  
  // حساب المقاسات بناءً على الوزن والطول
  const calculateSize = (weight, height) => {
    // التحقق من أن القيم ضمن النطاق المقبول
    if (weight < 30 || weight > 150 || height < 147 || height > 170) {
      return { width: 'خارج النطاق', length: 'خارج النطاق', error: true };
    }
    
    // تعريف نطاقات العرض والطول
    const widthRanges = [35, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150];
    const widths = [18, 19, 21, 22, 23, 24, 25, 28, 31, 32, 33, 34, 35];
    
    const heightRanges = [148, 151, 153, 156, 158, 161, 163, 165, 167, 169, 170];
    const lengths = [49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59];
    
    // حساب عرض العباية بناءً على وزن المستخدم
    let widthIndex = -1;
    for (let i = 0; i < widthRanges.length; i++) {
      if (weight <= widthRanges[i]) {
        widthIndex = i;
        break;
      }
    }
    
    // إذا كان الوزن أكبر من آخر نطاق، استخدم آخر قيمة عرض
    let width = widthIndex !== -1 ? widths[widthIndex] : widths[widths.length - 1];
    
    // حساب طول العباية بناءً على طول المستخدم
    let lengthIndex = -1;
    for (let i = 0; i < heightRanges.length; i++) {
      if (height <= heightRanges[i]) {
        lengthIndex = i;
        break;
      }
    }
    
    // إذا كان الطول أكبر من آخر نطاق، استخدم آخر قيمة طول
    let length = lengthIndex !== -1 ? lengths[lengthIndex] : lengths[lengths.length - 1];
    
    // إرجاع القيم المحسوبة مع حالة الخطأ
    return { width, length, error: false };
  };
  
  // معالجة إرسال النموذج
  const handleFormSubmit = (event) => {
    event.preventDefault();
    const resultDisplay = document.getElementById('result');
    resultDisplay.innerHTML = '';
    
    // الحصول على الطول والوزن من المدخلات
    const getValidatedNumber = (inputId) => {
      const value = document.getElementById(inputId).value;
      const parsedValue = parseFloat(value);
      if (isNaN(parsedValue)) {
        throw new Error(lang.error);
      }
      return parsedValue;
    };
    
    try {
      // الحصول على الطول والوزن من المدخلات
      const height = getValidatedNumber('height');
      const weight = getValidatedNumber('weight');
      const result = calculateSize(weight, height);
      
      // عرض النتائج أو رسالة خطأ
      if (result.error) {
        resultDisplay.innerHTML = `
          <h3 style="color: #d9534f; font-weight: 500; margin-bottom: 5px;">${lang.apology}</h3>
          <p style="color: #d9534f;">${lang.sorryDesc}</p>`;
      } else {
        resultDisplay.innerHTML = `
          <h3 style="color: #AB886D; font-weight: 500; margin-bottom: 10px;">${lang.result}</h3>
          <p style="color: #7a4f2f; margin-bottom: 5px;">${lang.abayaLength} ${result.length}</p>
          <p style="color: #7a4f2f;">${lang.abayaWidth} ${result.width}</p>`;
      }
    } catch (error) {
      resultDisplay.innerHTML = `<p style="color: #d9534f;">${error.message}</p>`;
    }
  };
  
  // إعداد صفحة HTML أساسية إذا لم تكن موجودة
  if (!document.querySelector('body')) {
    const body = document.createElement('body');
    document.documentElement.appendChild(body);
  }
  
  // إنشاء وإضافة آلة الحاسبة
  const formContainer = createForm();
  document.body.appendChild(formContainer);
  
  // إضافة مستمع الحدث للنموذج
  const abayaForm = document.getElementById('abayaForm');
  if (abayaForm) {
    abayaForm.addEventListener('submit', handleFormSubmit);
  }
  
  // إضافة الـ CSS العام لصفحة
  const style = document.createElement('style');
  style.textContent = `
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f9f9f9;
      padding: 20px;
      text-align: center;
      direction: rtl;
    }
    
    button:hover {
      background-color: #37873a !important;
    }
  `;
  document.head.appendChild(style);
});
    </script>
</body>
</html>
